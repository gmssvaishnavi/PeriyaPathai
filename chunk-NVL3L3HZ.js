import{L as m,Q as p,aa as r,qb as h}from"./chunk-DKZNZJOI.js";var I=(()=>{let e=class e{constructor(){this.http=p(h),this.mediaItems=r([]),this.loading=r(!1),this.error=r(null)}fetchMedia(){this.loading.set(!0),this.error.set(null);let s=Date.now(),t=`https://raw.githubusercontent.com/gmssvaishnavi/PeriyaPathai/main/ImageFiles.csv?t=${s}`,c=`https://raw.githubusercontent.com/gmssvaishnavi/PeriyaPathai/main/VideoFiles.csv?t=${s}`,n="https://raw.githubusercontent.com/gmssvaishnavi/PeriyaPathai/main/";Promise.all([this.http.get(t,{responseType:"text"}).toPromise(),this.http.get(c,{responseType:"text"}).toPromise()]).then(([o,d])=>{try{let l=this.parseImageCsv(o||""),g=this.parseVideoCsv(d||""),f=[...l.map(i=>({title:i.replace(".jpeg","").replace(/([A-Z])/g," $1").trim(),url:n+i,type:"image"})),...g.map(i=>({title:i.replace(".mp4","").replace(/([A-Z])/g," $1").trim(),url:n+i,type:"video"}))];this.mediaItems.set(f)}catch(l){console.error("Error parsing CSV data:",l),this.error.set("Failed to parse media files data.")}finally{this.loading.set(!1)}}).catch(o=>{console.error("Failed to load CSV data:",o),this.error.set("Failed to load media files from repository."),this.loading.set(!1)})}parseImageCsv(s){return s.split(",").map(t=>t.trim().replace(/'/g,"")).filter(t=>t.endsWith(".jpeg")).filter(t=>t.length>0)}parseVideoCsv(s){return s.split(",").map(t=>t.trim()).filter(t=>t.endsWith(".mp4")).filter(t=>t.length>0)}reloadMedia(){this.fetchMedia()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})();export{I as a};
